
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>LaTeX and the Kindle</title>
    <meta name="description" content="How I structure my LaTeX projects">
    <meta name="author" content="Todd Davies">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/syntax.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Todd Davies' Blog</a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h1>LaTeX and the Kindle </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>08 January 2014</span>
    </div>
    <div class="content">
      <h2 id="tldr">tl;dr</h2>

<p>I’ve got a <a href="https://github.com/Todd-Davies/latex-template">project</a> on Github that makes it easy to produce multiple <code>pdf</code> files with different styles but the same content. Handy for producing documents for the multiple formats.</p>
<hr />
<p>Just before Christmas I bought a Kindle, the main justification being that I could use it to read my university course notes on there rather than printing them all off and wasting reams of paper.</p>

<h2 id="the_problem">The problem</h2>

<p>I use <a href="http://en.wikipedia.org/wiki/LaTeX">LaTeX</a> to produce my notes as <code>.pdf</code> files, that up to now, have been formatted as A4 sized documents. However, if you’ve ever tried to view a pdf file on a <a href="http://www.amazon.co.uk/gp/product/B007HCCOD0/ref=ksfs_sz">kindle</a> (I’ve got the basic model), then you’ll know that it maps each page of the pdf file on to the screen without any scaling. Ah.</p>

<p>This is an understandable decision on Amazon’s part; the pdf format was created to be like ‘digital paper’, and so it might not be wise (or even feesable) to just reformat the file so that it fits nicely on the screen of the kindle. Uunfortunately, this results in the page being squashed down to less than half it’s original size, resulting in minute, even unreadable text. The kindle does offer zoom functionality, but it’s a pain to use, and ruins the experience.</p>

<p>The solution was to set up my project so that two pdf files would be created when I compiled my notes file; one would be A4 formatted, and the other sized to fit a kindle screen.</p>
<!--more-->
<h2 id="the_solution">The solution</h2>

<p>I decided that the easiest and most logical way to produce two output pdf files was to split my LaTeX source file into multiple parts:</p>

<ul>
<li><code>content.tex</code> - holds the actual content of the notes.</li>

<li><code>packages.tex</code> - holds the LaTeX packages required by the content file.</li>

<li><code>meta.tex</code> - holds information such as the name of the author and the title of the file.</li>

<li><code>notes.tex</code> - contains the style information for formatted A4 notes</li>

<li><code>kindle.tex</code> - contains the style information for kindle formatted notes.</li>
</ul>

<p>I then have a bash script that I run in order to compile the project and generate the pdf files:</p>
<table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre><code class='bash'>1
2
3
4
5</code></pre></div></td><td class='code'><div class='highlight'><pre><span class='c'>#!/bin/bash</span>
aspell -t check content.tex
aspell -t check meta.tex
pdflatex notes.tex
pdflatex kindle.tex
</pre></div>
</td></tr></table>
<p>When I run <code>build.sh</code>, the content files get spell checked and then both the notes and kindle files get compiled to produce <code>notes.pdf</code> and <code>kindle.pdf</code>.</p>

<p>At the most basic level, the notes and kindle LaTeX files contain:</p>
<table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre><code class='latex'> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</code></pre></div></td><td class='code'><div class='highlight'><pre><span class='k'>\documentclass</span><span class='nb'>{</span>article<span class='nb'>}</span>

<span class='c'>% =========================</span>
<span class='c'>% Import packages required to style the file here (ommitted for brevity)</span>
<span class='c'>% =========================</span>

<span class='c'>% Import the packages required for content.tex</span>
<span class='k'>\input</span><span class='nb'>{</span>packages.tex<span class='nb'>}</span>

<span class='c'>% =========================</span>
<span class='c'>% Style code goes here (ommitted for brevity)</span>
<span class='c'>% =========================</span>

<span class='k'>\begin</span><span class='nb'>{</span>document<span class='nb'>}</span>

<span class='c'>% Get the author, the title etc</span>
<span class='k'>\input</span><span class='nb'>{</span>meta.tex<span class='nb'>}</span>

<span class='k'>\maketitle</span>

<span class='c'>% Get the content of the file</span>
<span class='k'>\input</span><span class='nb'>{</span>content.tex<span class='nb'>}</span>

<span class='k'>\end</span><span class='nb'>{</span>document<span class='nb'>}</span>
</pre></div>
</td></tr></table>
<p>The <code>packages.tex</code> file contains all the packages used by <code>content.tex</code>, and varies between different projects. The <code>meta.tex</code> file is more intresting, since it defines macros for the title and author name:</p>
<table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre><code class='latex'>1
2
3
4
5
6
7</code></pre></div></td><td class='code'><div class='highlight'><pre><span class='c'>% Set the author and title</span>
<span class='k'>\newcommand</span><span class='nb'>{</span><span class='k'>\Author</span><span class='nb'>}{</span>Todd Davies<span class='nb'>}</span> 
<span class='k'>\newcommand</span><span class='nb'>{</span><span class='k'>\Title</span><span class='nb'>}{</span>Title goes here<span class='nb'>}</span>

<span class='c'>% Meta</span>
<span class='k'>\author</span><span class='nb'>{</span><span class='k'>\Author</span><span class='nb'>}</span>
<span class='k'>\title</span><span class='nb'>{</span><span class='k'>\Title</span><span class='nb'>}</span>
</pre></div>
</td></tr></table>
<h2 id="accomodating_for_the_kindle">Accomodating for the kindle</h2>

<p>In order to get the best layout for the kindle, I used the A5 paper size, and a 14pt text size and margins of 1cm:</p>
<table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre><code class='latex'> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</code></pre></div></td><td class='code'><div class='highlight'><pre><span class='k'>\documentclass</span><span class='na'>[a5paper]</span><span class='nb'>{</span>article<span class='nb'>}</span>

<span class='c'>% Lets make the text nice and big</span>
<span class='k'>\usepackage</span><span class='na'>[14pt]</span><span class='nb'>{</span>extsizes<span class='nb'>}</span>

<span class='c'>% Make the borders really small</span>
<span class='k'>\usepackage</span>[left=1cm,
            top=1cm,
            right=1cm,
            bottom=1cm,
            marginparwidth=0mm,
            marginparsep=0mm]<span class='nb'>{</span>geometry<span class='nb'>}</span>
</pre></div>
</td></tr></table>
<p>I also used the <code>breqn</code> package along with the <code>dmath</code> environment to split my equations over multiple lines if they exceeded the page width.</p>

<p>I make extensive use of margin paragraphs in my notes, in fact, I have an extra wide right margin for them in the A4 version. However, they cause the text size of the page on the kindle to change between pages, since it will zoom out so that the margin can be seen on pages with margin paragraphs, and it will zoom in to omit the margin on pages without margin paragrahs. This was a big problem, since there was a lot of valuble information in there, so merely ommitting them from the kindle notes would be a shame.</p>

<p>The solution was to make margin paragraphs inline on the kindle, to do this, I put this code in my <code>kindle.tex</code> file:</p>
<div class='highlight'><pre><code class='latex'><span class='c'>% Make margin paragrahs inline</span>
<span class='k'>\renewcommand</span><span class='nb'>{</span><span class='k'>\marginpar</span><span class='nb'>}</span>[1]<span class='nb'>{</span>
<span class='k'>\begin</span><span class='nb'>{</span>tcolorbox<span class='nb'>}</span>[colback=white!5,colframe=white!40!black,title=Note:]
#1
<span class='k'>\end</span><span class='nb'>{</span>tcolorbox<span class='nb'>}}</span>
</code></pre></div>
<p>The margin paragrahs now appear in the main body of the text, wrapped in a box that picks them out as containing extra information or remarks.</p>

<p>I’ve got the a <a href="https://github.com/Todd-Davies/latex-template">template project</a> set up on Github if you want to look at it. Any suggestions are welcome!</p>
    </div>

    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#LaTeX-ref">LaTeX <span>1</span></a></li>
     
    	<li><a href="/tags.html#Programming-ref">Programming <span>1</span></a></li>
     
    	<li><a href="/tags.html#Notes-ref">Notes <span>1</span></a></li>
     
    	<li><a href="/tags.html#Linux-ref">Linux <span>1</span></a></li>
    
  



    </ul>
    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev disabled"><a>&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
      <hr>
      <footer>
        <p>&copy; 2014 Todd Davies
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div>

    
  </body>
</html>

